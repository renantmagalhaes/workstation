#######################
### HYPRIDLE CONFIG ###
#######################

# Hypridle configuration for automatic screen locking and power management

####################
### COMMAND DEFINITIONS ###
####################

# Lock command - use hyprlock if available, fallback to system lock
$lock_cmd = pidof hyprlock || hyprlock

# Suspend command - avoid suspending if Steam is running (gaming session)
$suspend_cmd = pidof steam || systemctl suspend || loginctl suspend # fuck nvidia

####################
### GENERAL SETTINGS ###
####################

general {
    lock_cmd = $lock_cmd
    before_sleep_cmd = loginctl lock-session
}

####################
### IDLE TIMEOUTS ###
####################

# Lock session after 1 hour of inactivity
listener {
    timeout = 3600 # 1hr
    on-timeout = loginctl lock-session
}

# Turn off display after 10 hours of inactivity
listener {
    timeout = 36000 # 10hrs
    on-timeout = hyprctl dispatch dpms off
    on-resume = hyprctl dispatch dpms on
}

# Suspend system after 24 hours of inactivity
listener {
    timeout = 86400 # 24hrs
    on-timeout = $suspend_cmd
}
