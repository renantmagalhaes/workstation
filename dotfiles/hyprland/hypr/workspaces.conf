##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more

####################
### WINDOW RULES ###
####################

# Global window rules
windowrule = suppress_event maximize, match:class .*

# Fix some dragging issues with XWayland
windowrule = no_focus on, match:class ^$, match:title ^$, match:xwayland 1, match:float 1, match:fullscreen 0, match:pin 0

# Window opacity settings
# Just dash of opacity by default (0.97 focused, 0.9 unfocused)
# windowrule = opacity 0.97 0.9, class:.*
windowrule = opacity 0.97 0.9, match:class org.gnome.Nautilus.*$

### Mako ###
## Blur the notification layer surface from mako
layerrule = blur on, ignore_alpha 0.10, match:namespace notifications
#### keep both, Hyprland ignores the one that does not exist on your system
layerrule = blur on, ignore_alpha 0.10, match:namespace mako

### Waybar ###
## Blur the waybar layer surface
layerrule = blur on, ignore_alpha 0.05, match:namespace waybar

### Rofi ###
## Blur the rofi window/layer surface
layerrule = blur on, ignore_alpha 0.15, match:namespace rofi

### Jgmenu ###
## Keep jgmenu always on top, above waybar
windowrule = pin on, float on, stay_focused on, match:class ^(jgmenu|Jgmenu)$

### VPN Clients ###
## Never tile Windscribe windows - always keep them floating
windowrule = float on, center on, match:class Windscribe

### Flameshot ###
windowrule {
  name = flameshot-fix
  match:class = flameshot
  
  float = on
  pin = on
  move = 0 0
  size = 5120 1440
  # internal (0-3) and client (0-3) states are required
  # 3 = maximize and fullscreen
  fullscreen_state = 0 3 
  no_anim = on
}

# CopyQ ###
windowrule {
    name = copyq-float
    match:class = ^(com\.github\.hluk\.copyq|copyq)$
    
    float = on
    size = 800 600    # Optional: set a default size so it doesn't span the screen
    center = on       # Optional: keep it centered when it toggles
}

####################
### SPECIAL WORKSPACES ###
####################

# Special workspace for magic terminal

####################
### WORKSPACE INITIALIZATION ###
####################

# Hyprswitch initialization
exec-once = hyprswitch init --show-title --size-factor 5.5 --workspaces-per-row 5 &


####################
### WORKSPACE CONFIGURATION ###
####################

# Monitor 1 workspaces (1-5)
workspace = 1, monitor:0, persistent:true, default:true
workspace = 2, monitor:0, persistent:true
workspace = 3, monitor:0, persistent:true
workspace = 4, monitor:0, persistent:true
workspace = 5, monitor:0, persistent:true

# Monitor 2 workspaces (6-10)
workspace = 6, monitor:1, persistent:true, default:true
workspace = 7, monitor:1, persistent:true
workspace = 8, monitor:1, persistent:true
workspace = 9, monitor:1, persistent:true
workspace = 10, monitor:1, persistent:true

# Magic workspace for kitty terminal (toggle with Super + Enter)
workspace = special:kitty, gapsout:50, opacity:0.9, border:false

####################
### APPLICATION-SPECIFIC RULES ###
####################

# Clipboard manager (cliphist doesn't have a GUI window, so no window rules needed)
